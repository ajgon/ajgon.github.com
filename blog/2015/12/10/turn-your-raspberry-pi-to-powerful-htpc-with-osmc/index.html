<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Turn your Raspberry Pi to powerful HTPC with OSMC - Igor \"ajgon\" Rzegocki</title>
  <meta name="description" content="I am big fan of TV series. There were times (mostly in college), when I watched them almost continuously. Recently I got tired of laptop screen, and moved to...">

  
  <meta content="/assets/covers/turn-your-raspberry-pi-to-powerful-htpc-with-osmc-36efe3499b495bce7748ce28b4e28666d45dea04daa1beebb2dea16976f39296.png" name="og:image">
  
  <meta content="http://rzegocki.pl/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/" name="og:url">
  <meta content='Turn your Raspberry Pi to powerful HTPC with OSMC - Igor \"ajgon\" Rzegocki' name="og:title">
  <meta content="I am big fan of TV series. There were times (mostly in college), when I watched them almost continuously. Recently I got tired of laptop screen, and moved to..." name="og:description">


  <link type="text/css" rel="stylesheet" href="/assets/main-9d80b6fcd2dbad4f997bd77be012cfe80f28762c26dc08586c16244e2374340e.css">
  <link rel="canonical" href="http://rzegocki.pl/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/">
  <link rel="alternate" type="application/rss+xml" title='Igor \"ajgon\" Rzegocki' href="http://rzegocki.pl/feed.xml" />
</head>


  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
      <header class="mdl-layout__header mdl-layout__header--waterfall mdl-shadow--4dp">
  <div class="mdl-layout__header-row">
    <!-- Title -->
    <span class="mdl-layout-title"><a href="/">Igor \"ajgon\" Rzegocki</a></span>
    <!-- Add spacer, to align navigation to the right -->
    <div class="mdl-layout-spacer"></div>
    <!-- Navigation. We hide it in small screens. -->
    <nav class="icons-navigation mdl-navigation">
      <a id="download-cv" class="mdl-button mdl-js-button mdl-button--icon" href="/cv.pdf">
        <i class="material-icons">file_download</i>
      </a>
      <button id="connect-options" class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">more_vert</i>
      </button>

      <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
          for="connect-options">
          
            <li><a class="mdl-menu__item" href="https://github.com/ajgon" target="_blank">GitHub</a></li>
          
            <li><a class="mdl-menu__item" href="https://linkedin.com/in/ajgon" target="_blank">LinkedIN</a></li>
          
            <li><a class="mdl-menu__item" href="https://twitter.com/ajgon" target="_blank">Twitter</a></li>
          
            <li><a class="mdl-menu__item" href="/public-key.txt" target="_blank">GPG Key</a></li>
          
      </ul>
      <div for="download-cv" class="mdl-tooltip">Download CV</div>
      <div for="connect-options" class="mdl-tooltip">Connect</div>
    </nav>
  </div>
  <div class="mdl-layout__header-row mdl-layout__header-highlighted-row mdl-layout--large-screen-only">
    <nav class="waterfall-demo-header-nav mdl-navigation">
      
        
          
        
          
        
          
        
          
            <a href="/" class="mdl-navigation__link">About</a>
          
        
          
        
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
        
          
            <a href="/portfolio/" class="mdl-navigation__link">Portfolio</a>
          
        
          
        
      
        
          
        
          
        
          
        
          
        
          
            <a href="/open-source/" class="mdl-navigation__link">Open Source</a>
          
        
          
        
          
        
      
        
          
        
          
            <a href="/blog/" class="mdl-navigation__link is-active">Blog</a>
          
        
          
        
          
        
          
        
          
        
          
        
      
    </nav>
  </div>
</header>
<div class="mdl-layout__drawer">
  <span class="mdl-layout-title"><a href="/">ajgon's personal</a></span>
  <nav class="mdl-navigation">
    
      
        
      
        
      
        
      
        
          <a href="/" class="mdl-navigation__link">About</a>
        
      
        
      
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
      
        
          <a href="/portfolio/" class="mdl-navigation__link">Portfolio</a>
        
      
        
      
    
      
        
      
        
      
        
      
        
      
        
          <a href="/open-source/" class="mdl-navigation__link">Open Source</a>
        
      
        
      
        
      
    
      
        
      
        
          <a href="/blog/" class="mdl-navigation__link is-active">Blog</a>
        
      
        
      
        
      
        
      
        
      
        
      
    
  </nav>
</div>


      <main class="mdl-layout__content">
        <div class="post-container full-post narrow mdl-grid">
    <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
        <a href="/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/">
            <div class="mdl-card__media mdl-color-text--grey-50" style="background-image: url(/assets/covers/turn-your-raspberry-pi-to-powerful-htpc-with-osmc-36efe3499b495bce7748ce28b4e28666d45dea04daa1beebb2dea16976f39296.png">
                <h3>Turn your Raspberry Pi to powerful HTPC with OSMC</h3>
            </div>
        </a>
                <div class="mdl-card__supporting-text meta mdl-color-text--grey-600">
            <div class="minilogo" style="background-image: url(/assets/avatars/ajgon-04f8c4022f2e292c90f22f4682f2f27b8f6678bc7bab4d6e306885d2386c42c7.png);"></div>
            <div>
                <strong>ajgon</strong>
                <span>Dec 10, 2015</span>
            </div>
            <div class="mdl-layout-spacer"></div>
            <div>
                <button id="share_" class="mdl-button mdl-js-button mdl-button--icon">
                    <i class="material-icons">share</i>
                </button>

                <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect"
                    for="share_">
                        <li><a class="mdl-menu__item" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=http://rzegocki.pl/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/&amp;title=" target="_blank" data-width="600" data-height="450">LinkedIN</a></li>
                        <li><a class="mdl-menu__item" href="https://twitter.com/share?url=http://rzegocki.pl/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/&amp;text=" target="_blank" data-width="500" data-height="550">Twitter</a></li>
                        <li><a class="mdl-menu__item" href="https://www.facebook.com/sharer/sharer.php?u=http://rzegocki.pl/blog/2015/12/10/turn-your-raspberry-pi-to-powerful-htpc-with-osmc/&amp;display=popup" data-width="626" data-height="457" target="_blank">Facebook</a></li>
                </ul>
                <div class="mdl-tooltip" for="share_">Share</div>
            </div>
        </div>

        <div class="mdl-color-text--grey-700 mdl-card__supporting-text">
            <p>I am big fan of TV series. There were times (mostly in college), when I watched them almost continuously. Recently I got tired of laptop screen, and moved to <a href="http://www.samsung.com/uk/consumer/tv-audio-video/televisions/hd-tvs/UE32H5500AKXXU">something bigger</a>. I also had a spare Raspberry PI, so naturally the conslusion came - why not connect them together, and create a genuine Mediacenter.</p>

<!--more-->

<h2 id="prerequisites">Prerequisites</h2>

<p>If you plan to build a HTPC here are some general guidelines regarding hardware:</p>

<ul>
  <li>make sure, that TV supports <a href="https://en.wikipedia.org/wiki/HDMI#CEC">HDMI CEC</a></li>
  <li>you have a proper HDMI cable, with CEC pins</li>
  <li>if you plan to use WiFi on Raspberry, it’s a good idea to use dongle with external antenna and 5GHz support (I strongly recommend <a href="http://www.edimax.com/edimax/merchandise/merchandise_detail/data/edimax/global/wireless_adapters_ac600_dual-band/ew-7811uac">this one</a>)</li>
  <li>and last but not least, use a reliable power source for your PI (2A is a must)</li>
</ul>

<p>With this setup, you should be able to enjoy a nice and smooth media experience.</p>

<h2 id="installing-osmc">Installing OSMC</h2>

<p>But first things first, you need to install OSMC on a SD Card. This is the simplest part - just go to <a href="https://osmc.tv/download/">OSMC Downloads section</a> and choose an installer for your operating system. Then just fire it up, and follow the instructions. The installator will ask you for (in order):</p>

<ul>
  <li>Language and device</li>
  <li>OSMC version (choose the most recent, obviously)</li>
  <li>Destination (SD card)</li>
  <li>Network configuration (if you’re using WiFi, it’s a good idea to pass your SSID/password here, this will allow to SSH to the machine after bootup, which can be lifesaver during troubleshooting)</li>
  <li>and last but not least, the device which you wish to install OSMC on (make sure it’s connected, and select it from the list)</li>
</ul>

<p>After successful installation, put the SD Card into your Raspberry, plug it in to the TV and boot it up. OSMC would finalize installation (which should take approx 5-10 mins) a greet you up with the “First Launch Wizard”. Here you can do the initial settings like: Language, Timezone, Hostname, accept the License Agreement, and choose the default skin (the rest of this guide will relate to the default “OSMC” skin).</p>

<h2 id="basic-extensions">Basic extensions</h2>

<p>Guys from OSMC did a pretty decent job, and pre-installed a lot of useful ones already. However, there are some extra few which I find pretty useful. I will describe each extension in sentence or two, note where you can find it in the settings, and provide options which I use and which you can base on as a good start.</p>

<h3 id="kodi-file-cleaner">Kodi File Cleaner</h3>

<p>This little fella would remove any video files, which you already watched. If you don’t plan to use external HDD and rely only on SD-Card - this could be a life saver.</p>

<ul>
  <li>Available in: Add-Ons =&gt; Program =&gt; Kodi File Cleaner</li>
  <li>Settings
    <ul>
      <li>Actions =&gt; Cleaning type: Delete permanently</li>
      <li>Actions =&gt; Clean movies: true</li>
      <li>Actions =&gt; Clean TV shows: true</li>
      <li>Actions =&gt; Also delete empty folders: true</li>
      <li>Actions =&gt; Also clean related files with similar names (e.g. subtitles): true</li>
      <li>Frequency =&gt; Run as a service: true</li>
    </ul>
  </li>
</ul>

<h3 id="super-favourites">Super Favourites</h3>

<p>I like this one, mostly for its ability of importing/exporting Kodi favorites. Also, if you tend to favorite remote source like YouTube Channels (I often do) - this one would refresh them every time they are accessed. Internal Kodi Favorites has problems with that.</p>

<ul>
  <li>Available in: Add-Ons =&gt; Program =&gt; Super Favourites</li>
</ul>

<h3 id="subtitles">Subtitles</h3>

<p>No rocket-science here, <code class="highlighter-rouge">OpenSubtitles.org</code> in my opinion is a must. As a Pole I also use and recommend the <code class="highlighter-rouge">Napiprojekt.pl</code>, but bear in mind, that this contain polish subtitles only.</p>

<ul>
  <li>Available in: Add-Ons =&gt; Subtitles =&gt; Napiprojekt.pl</li>
  <li>Available in: Add-Ons =&gt; Subtitles =&gt; OpenSubtitles.org</li>
</ul>

<h3 id="watchdog">Watchdog</h3>

<p>Very useful addon. It scans your library directories for new videos, and adds them automatically to library. Life-saver if you have some scripts which downloads TV Series automatically.</p>

<ul>
  <li>Available in: Add-Ons =&gt; Services =&gt; Watchdog
    <ul>
      <li>General =&gt; Remove from library when files are removed: true</li>
      <li>General =&gt; Clean on startup: true</li>
      <li>General =&gt; Scan on startup: true</li>
      <li>Advanced =&gt; Method for local sources: Polling (if you use some network file system like SMB or NFS) or Auto (if you store files locally)</li>
      <li>Advanced =&gt; Removal method: Remove the deleted video only</li>
    </ul>
  </li>
</ul>

<h3 id="youtube-vimeo-etc">YouTube, Vimeo etc.</h3>

<p>Also no-brainers, and selection is a matter of your taste. Personally I only use the YouTube and TED Talks.</p>

<ul>
  <li>Available in: Add-Ons =&gt; Video add-ons =&gt; Ted Talks</li>
  <li>Available in: Add-Ons =&gt; Video add-ons =&gt; Vimeo</li>
  <li>Available in: Add-Ons =&gt; Video add-ons =&gt; YouTube</li>
</ul>

<h2 id="settings">Settings</h2>

<p>After installation of basic extensions it is a good idea to tune up some settings. First of all - set the panels to “Expert” mode. Then, set them up as you prefer. Below, is a short list of options, which I usually change:</p>

<ul>
  <li>Apperance =&gt; Skin =&gt; GUI sounds: Skin built-in</li>
  <li>Apperance =&gt; International =&gt; Region: Central Europe</li>
  <li>Apperance =&gt; File lists =&gt; Allow file renaming and deletion: true</li>
  <li>Video =&gt; Library =&gt; Select first unwatched TV show season / episode: Always</li>
  <li>Video =&gt; Library =&gt; Update library on startup: true</li>
  <li>Video =&gt; Playback =&gt; Play next video automatically: true</li>
  <li>Video =&gt; Acceleration =&gt; Allow hardware acceleration - OMX: true</li>
  <li>Video =&gt; Subtiltes =&gt; Preferred subtitle language: Polish</li>
  <li>Video =&gt; Subtitles =&gt; Font to user for text subtitles =&gt; Character set: Central Europe (Windows)</li>
  <li>Video =&gt; Subtitles =&gt; Languages to download subtitles for: English, Polish</li>
  <li>Video =&gt; Subtitles =&gt; Default TV show service: Napiprojekt.pl</li>
  <li>Video =&gt; Subtitles =&gt; Default movie service: Opensubtitles.org</li>
  <li>System =&gt; Input devices =&gt; Peripherals =&gt; CEC Adapter =&gt; Pause playback when switching to another source</li>
</ul>

<h2 id="configuring-the-remote-control">Configuring the Remote Control</h2>

<p>If you have proper HDMI cable and TV supporting CEC, your remote should “just work” with the OSMC. However, it’s very unlikely that you’ll be happy with default configuration. For example, in my case - the “Back” button was displaying context menu, instead of going back. To fix this, first thing you need to find out is what each button on the remote maps to in Kodi. There is a <a href="http://forum.kodi.tv/showthread.php?tid=139145&amp;pid=1285390#pid1285390">great thread</a> providing step-by-step instruction, but in a nutsheel, you need to SSH to your OSMC machine and create a <code class="highlighter-rouge">.kodi/userdata/keymaps/remote.xml</code> file with <a href="https://gist.github.com/ajgon/59a73b8b8e236e30ab33">given contents</a>.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC Machine</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">curl -o ~/.kodi/userdata/keymaps/remote.xml https://gist.githubusercontent.com/ajgon/59a73b8b8e236e30ab33/raw/d9fbf3c20edbff85d71b99b47d202d8a0ab1a8d9/remote.xml</div></div></pre></div></figure>

<p>After that, restart OSMC, and click every button on your remote. They shouldn’t do anything except displaying a notification with the button name in Kodi. Note them down, you would need them in a second.</p>

<p>Next copy the default <code class="highlighter-rouge">remote.xml</code> file over the current one, and start configuriation!</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC Machine</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">cp /usr/share/kodi/system/keymaps/remote.xml ~/.kodi/userdata/keymaps/remote.xml</div></div></pre></div></figure>

<p>The file is pretty self-explanatory. The XML node name is they key name you noted minute ago, and the value is either <a href="http://kodi.wiki/view/Action_IDs">Kodi Action</a> or <a href="http://kodi.wiki/view/List_of_built-in_functions">Kodi Function</a>. For reference, you <a href="https://gist.github.com/ajgon/17e7553a599669f39694/revisions?diff=split">can check the diff</a> between my config (for Samsung Remote) and default one.</p>

<h2 id="osd-auto-hide">OSD Auto-hide</h2>

<p>Discovering that, was a big suprise for me. At the time of writing this post there is no easy way to auto-hide OSD. When you display it - it will remain on screen until you “unclick” it away. However, you can fix this behavior with a little hack.</p>

<p>First of all, you need to download and install a Titan skin helper service - either from <a href="http://kodi.wiki/view/Add-on:Titan_skin_helper_service">Kodi Repository</a>, or from its <a href="https://github.com/marcelveldt/script.skin.helper.service/releases">GitHub Page</a>. This neat tool adds many extra options for skin makers, and one of them is <a href="https://github.com/marcelveldt/script.skin.helper.service/blob/master/resources/lib/ListItemMonitor.py#L81">AutoCloseVideoOSD property</a>. All you need to do, is to add it to the current skin. If you’re using OSMC Skin, the easiest way is to edit its <code class="highlighter-rouge">Startup.xml</code> file, and add it as <code class="highlighter-rouge">&lt;onload&gt;</code> property.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC Machine</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">sed -i<span class="s1">&#39;~&#39;</span> <span class="s1">&#39;s@&lt;/window&gt;@        &lt;onload&gt;Skin.SetString(SkinHelper.AutoCloseVideoOSD, 4)&lt;/onload&gt;\n&lt;/window&gt;@&#39;</span> /usr/share/kodi/addons/skin.osmc/16x9/Startup.xml</div></div></pre></div></figure>

<p>where <code class="highlighter-rouge">4</code> is time in seconds you wish to OSD appear on screen, before fading out.</p>

<h2 id="buffering">Buffering</h2>

<p>If you plan to use some remote data-storage (NAS, another Pi with HDD, or any tool involving remote file system) it’s a good idea to increase buffer size of the video player. Don’t set it too large though, since it will occupy <a href="http://kodi.wiki/view/HOW-TO:Modify_the_video_cache">3 times more RAM than the value set</a> (so if you set it to 100M it will occupy 300M of RAM, etc.). For Raspberry Pi 2 with its 1GB RAM, a safe value is approx. 150MB. And it should be more than sufficient, even for 1080p videos. Increasing buffer size is quite simple - just create a <code class="highlighter-rouge">.kodi/userdata/advancedsettings.xml</code> file on your OSMC, and fill it as below (altering <code class="highlighter-rouge">cachemembuffersize</code> to your needs).</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC: .kodi/userdata/advancedsettings.xml</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;advancedsettings&gt;</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;network&gt;</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;buffermode&gt;</span>1<span class="nt">&lt;/buffermode&gt;</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;cachemembuffersize&gt;</span>157286400<span class="nt">&lt;/cachemembuffersize&gt;</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nt">&lt;readbufferfactor&gt;</span>10<span class="nt">&lt;/readbufferfactor&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="nt">&lt;/network&gt;</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nt">&lt;/advancedsettings&gt;</span></div></div></pre></div></figure>

<h2 id="stop-video-play-when-tv-is-turned-off">Stop video play when TV is turned off</h2>

<p>Another feature which is not available in Kodi. You can either shutdown or suspend (not possible on Pi) your machine. You can’t just stop video and leave machine “as is”. Unfortunatelly, there is no easy fix without recompiling half of the Kodi, so the only acceptable solution I found out, is to ping SmartTV and see when it goes to sleep (which means it would stop sending ping response). I’m aware that this solution isn’t perfect, but it’s the best I have at the moment.</p>

<p>Whole idea is actually pretty simple - just create a script <code class="highlighter-rouge">/usr/local/bin/ping-tv.sh</code> and fill with content below (don’t forget to put your TV IP there).</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC:&nbsp;/usr/local/bin/ping-tv.sh</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c">#!/bin/bash</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">TVIP</span><span class="o">=</span>&lt;IP of your TV&gt;
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">count</span><span class="o">=</span><span class="k">$(</span> ping -c <span class="m">1</span> -W <span class="m">1</span> <span class="nv">$TVIP</span> <span class="p">|</span> grep from <span class="p">|</span> wc -l <span class="k">)</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nv">tvon</span><span class="o">=</span><span class="k">$(</span> cat /tmp/tvon <span class="k">)</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line"> </div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">if</span> <span class="o">[</span> <span class="nv">$count</span> -eq <span class="m">0</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">if</span> <span class="o">[</span> <span class="nv">$tvon</span> -eq <span class="m">1</span> <span class="o">]</span><span class="p">;</span> <span class="k">then</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">        xbmc-send -a <span class="s1">&#39;PlayerControl(Stop)&#39;</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="k">fi</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nb">echo</span> -n <span class="m">0</span> &gt; /tmp/tvon
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">else</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="nb">echo</span> -n <span class="m">1</span> &gt; /tmp/tvon
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="k">fi</span></div></div></pre></div></figure>

<p>Now, all it’s left, is adding this script to the cron. Unfortunatelly, cron cannot launch tasks more often than a minute. And losing up to a minute for script to actually notice that TV is switched off - is unacceptable. However, there is another neat trick under my sleeve - using <code class="highlighter-rouge">sleep</code>. So fire up <code class="highlighter-rouge">crontab -e</code> and fill it with:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC: crontab -e</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * /usr/local/bin/ping-tv.sh
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * sleep <span class="m">10</span> <span class="o">&amp;&amp;</span> /usr/local/bin/ping-tv.sh
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * sleep <span class="m">20</span> <span class="o">&amp;&amp;</span> /usr/local/bin/ping-tv.sh
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * sleep <span class="m">30</span> <span class="o">&amp;&amp;</span> /usr/local/bin/ping-tv.sh
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * sleep <span class="m">40</span> <span class="o">&amp;&amp;</span> /usr/local/bin/ping-tv.sh
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">* * * * * sleep <span class="m">50</span> <span class="o">&amp;&amp;</span> /usr/local/bin/ping-tv.sh</div></div></pre></div></figure>

<p>This would force cron to start 6 processes, each one waiting different time before actually pinging the TV. In the end, the maximum waiting time would be shorten to 10 seconds, which is acceptable in my opinion (you can always add more entries following that pattern).</p>

<h2 id="tv-shows">TV Shows</h2>

<p>Ok, let’s make it perfectly clear - I’m not responsible if DEA, FBI, KGB or HGW knock to your door one day. <strong class="warning">This is for informational purposes only</strong>. If your country provides a legal alternative like Hulu or Netflix, you should definitely consider it. If not (or you don’t care), continue reading.</p>

<p>The simplest approach, is just manually installing torrent client, and download desired shows as they premiere. But what if I told you that you can automate this process to the level where all new shows gets downloaded and categorized automatically, gets their subtitles downloaded, and finally, they’re added to the Kodi Library? And all of that wihout single click (after some configuration of course)?</p>

<p>Interested? Continue… :)</p>

<h3 id="transmission">Transmission</h3>

<p>First thing you need is a torrent client. I strongly recommend <a href="http://www.transmissionbt.com/">Transmission</a> since it does its job pretty well, and provides a nice web interface. Since we don’t need GUI, we can narrow down the installotion to three packages:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC root</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">apt-get install transmission-cli transmission-common transmission-daemon</div></div></pre></div></figure>

<p>If you like, you can also install Kodi Transmission Add-On (under: <em>Add-Ons =&gt; Program =&gt; Transmission</em>), which will provide you a very basic GUI directly from Kodi interface.</p>

<p>Next, you need to do the configuration. All options are stored in <code class="highlighter-rouge">/etc/transmission-daemon/settings.json</code>. Since, those settings are very individual, I won’t provide any examples. Instead, I will direct you to <a href="https://trac.transmissionbt.com/wiki/EditConfigFiles">Transmission settings.json file documenatation</a>. When you finish them up, <strong>don’t restart the daemon</strong>! You will lose all the changes (don’t ask). Instead run:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC root</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">invoke-rc.d transmission-daemon reload</div></div></pre></div></figure>

<h3 id="rss-feed">RSS Feed</h3>

<p>First thing you need, is the data source of new premieres. The easiest solution is an RSS channel - in this example I will use <a href="http://showrss.info/">showrss.info</a>, since they’re doing exactly that.</p>

<p>Whole process is rather simple - create an account, add all the shows you wish to be noted on, and create a feed URL on <a href="http://showrss.info/?cs=feeds">Feeds</a> page. Put this URL somewhere, you will need it in a minute.</p>

<h3 id="subliminal">Subliminal</h3>

<p>Next thing, is some tool which will download subtitles for you. I strongly recommend <a href="http://subliminal.readthedocs.org/en/latest/">Subliminal</a>, since it’s easy to use and supports many providers.</p>

<p>Subliminal is a python package. However OSMC doesn’t come with any python package managing tool (which is understandable). In my personal opinion, the easiest one to use is <a href="https://pip.pypa.io/en/stable/">pip</a>, so let’s install it:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC root</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">apt-get install python-pip</div></div></pre></div></figure>

<p>Next, install latest stable version of subliminal. Do it from <code class="highlighter-rouge">osmc</code> user, not from <code class="highlighter-rouge">root</code>! There is no need for polluting the system userspace, and thanks to that, all the files will be stored in one, easy-to-wipe-out directory.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">pip install --user subliminal</div></div></pre></div></figure>

<p>Also local userspace means, you need to add its path to your <code class="highlighter-rouge">$PATH</code> env.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;$HOME/.local/bin:$PATH&quot;&#39;</span> &gt;&gt; ~/.bashrc
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nb">source</span> ~/.bashrc</div></div></pre></div></figure>

<p>If you don’t want to use <code class="highlighter-rouge">napiprojekt</code> provider, you’re done. If you do, read next section.</p>

<h4 id="subliminal---napiprojekt">Subliminal - napiprojekt</h4>

<p>At the time of writing this article, napiprojekt support for subliminal was in beta stage, and was not included in pip repository. The easiest way to check if napiprojekt is enabled, is to check the list of supported providers:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">subliminal download --help <span class="p">|</span> grep provider
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c">#  -p, --provider [addic7ed|opensubtitles|podnapisi|thesubdb|tvsubtitles]</span></div></div></pre></div></figure>

<p>If napiprojekt is listed, you can skip this step.</p>

<p>Otherwise download the freshest development version (if you don’t have a git, invoke <code class="highlighter-rouge">sudo apt-get install git</code>) and install it:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">git clone --depth<span class="o">=</span><span class="m">1</span> -b develop https://github.com/Diaoul/subliminal.git ~/subliminal
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nb">cd</span> ~/subliminal
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">python setup.py install --user
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="nb">cd</span> ~
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">rm -rf ~/subliminal</div></div></pre></div></figure>

<p>Now napiprojekt should be displayed as available provider:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">subliminal download --help <span class="p">|</span> grep provider
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="c">#  -p, --provider [addic7ed|napiprojekt|opensubtitles|podnapisi|thesubdb|tvsubtitles]</span></div></div></pre></div></figure>

<h3 id="flexget">FlexGet</h3>

<p>And now… the biggest star. A tool, which glue all this stuff together: <a href="http://flexget.com/">FlexGet</a>. When properly configured, will parse showrss.info RSS feed, add all new shows to the transmission queue, after finished download move them to proper directory, and finally fetch subtitles. It will also keep an eye on shows which does not have subtitles when downloaded (very common situation for freshest episodes), and try to fetch them when they appear.</p>

<h4 id="flexget---installation">FlexGet - Installation</h4>

<p>No rocket science here (remember - <code class="highlighter-rouge">osmc</code> user, not <code class="highlighter-rouge">root</code>):</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">pip install --user flexget
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">pip install --user transmissionrpc</div></div></pre></div></figure>

<p>The second package is necessary for all FlexGet transmission-related plugins.</p>

<h4 id="flexget---napiprojekt">FlexGet - napiprojekt</h4>

<p>If you wish to use napiprojekt and <a href="http://flexget.com/wiki/Plugins/subliminal">subliminal plugin</a>, you need to monkey patch it (however, you can safely skip this step, despite the fact you will use subliminal - see below). Also before applying the patch, check the <code class="highlighter-rouge">PROVIDERS</code> constant in <code class="highlighter-rouge">~/.local/lib/python2.7/site-packages/flexget/plugins/output/subtitles_subliminal.py</code> file. At the time of writing this article <code class="highlighter-rouge">napiprojekt</code> wasn’t there, so if it’s absent, do:</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC osmc user</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">sed -i<span class="s1">&#39;~&#39;</span> <span class="s2">&quot;s@&#39;opensubtitles&#39;,@&#39;opensubtitles&#39;,\n    &#39;napiprojekt&#39;,@&quot;</span> ~/.local/lib/python2.7/site-packages/flexget/plugins/output/subtitles_subliminal.py</div></div></pre></div></figure>

<h4 id="flexget---configuration">FlexGet - configuration</h4>

<p>The most important step - we need to tell FlexGet what to do, what to fetch and where to put it. You should really, REALLY read the <a href="http://flexget.com/wiki/Configuration">FlexGet Configuration documenatation</a> so you know what you’re doing. After that, you can use this template for a good start (put it to <code class="highlighter-rouge">~/.flexget/config.yml</code>):</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">~/.flexget/config.yml</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line"><span class="l-Scalar-Plain">tasks</span><span class="p-Indicator">:</span>
</div></div><div data-line="2" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="l-Scalar-Plain">download-tv-shows</span><span class="p-Indicator">:</span>
</div></div><div data-line="3" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">priority</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">10</span>
</div></div><div data-line="4" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">rss</span><span class="p-Indicator">:</span>
</div></div><div data-line="5" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">url</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;showrss_url&gt;</span>
</div></div><div data-line="6" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">all_series</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="7" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">transmission</span><span class="p-Indicator">:</span>
</div></div><div data-line="8" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</div></div><div data-line="9" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">9091</span>
</div></div><div data-line="10" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;transmission_username&gt;</span>
</div></div><div data-line="11" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;transmission_password&gt;</span>
</div></div><div data-line="12" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">main_file_only</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="13" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">download</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;finished_downloads_path&gt;</span>
</div></div><div data-line="14" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="l-Scalar-Plain">sort-tv-shows</span><span class="p-Indicator">:</span>
</div></div><div data-line="15" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">priority</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">20</span>
</div></div><div data-line="16" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">disable</span><span class="p-Indicator">:</span>
</div></div><div data-line="17" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">retry_failed</span>
</div></div><div data-line="18" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">metainfo_series</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="19" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">thetvdb_lookup</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="20" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">require_field</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">series_name</span><span class="p-Indicator">,</span> <span class="nv">series_id</span><span class="p-Indicator">,</span> <span class="nv">series_season</span><span class="p-Indicator">,</span> <span class="nv">tvdb_series_name</span><span class="p-Indicator">]</span>
</div></div><div data-line="21" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">find</span><span class="p-Indicator">:</span>
</div></div><div data-line="22" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;finished_downloads_path&gt;</span>
</div></div><div data-line="23" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">regexp</span><span class="p-Indicator">:</span> <span class="s">&#39;.*\.(avi|mkv|mp4)$&#39;</span>
</div></div><div data-line="24" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">recursive</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="25" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">accept_all</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="26" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">exists_series</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;tv_shows_path&gt;</span>
</div></div><div data-line="27" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">move</span><span class="p-Indicator">:</span>
</div></div><div data-line="28" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">to</span><span class="p-Indicator">:</span> <span class="s">&quot;&lt;tv_shows_path&gt;/&quot;</span>
</div></div><div data-line="29" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">filename</span><span class="p-Indicator">:</span> <span class="s">&quot;.&quot;</span>
</div></div><div data-line="30" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">along</span><span class="p-Indicator">:</span>
</div></div><div data-line="31" class="code-highlight-row numbered"><div class="code-highlight-line">        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">srt</span>
</div></div><div data-line="32" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="l-Scalar-Plain">download-subtitles</span><span class="p-Indicator">:</span>
</div></div><div data-line="33" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">priority</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">30</span>
</div></div><div data-line="34" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">filesystem</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/etc/gss/mech.d/</span>
</div></div><div data-line="35" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">disable</span><span class="p-Indicator">:</span>
</div></div><div data-line="36" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">seen</span>
</div></div><div data-line="37" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">accept_all</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="38" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">exec</span><span class="p-Indicator">:</span>
</div></div><div data-line="39" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">ls -1R &quot;&lt;tv_shows_path&gt;&quot; | grep &#39;\.S0&#39; | sed -r &#39;s@(\.pl)?\....$@@g&#39; | sort | uniq -c | grep &#39;^\s*1&#39; | sed &#39;s@^\s*1\s*@@g&#39; | awk -F# &#39;&#x7b; print &quot;find \&quot;&lt;tv_shows_path&gt;\&quot; -name \&quot;&quot; $1 &quot;\&quot;*&quot; &#x7d;&#39; &gt; /tmp/go</span>
</div></div><div data-line="40" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">chmod +x /tmp/go</span>
</div></div><div data-line="41" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">/tmp/go | awk -F&quot;###&quot; &#39;&#x7b; print &quot;\&quot;&quot; $1 &quot;\&quot;&quot; &#x7d;&#39; | tr &#39;\n&#39; &#39; &#39; | xargs /home/osmc/.local/bin/subliminal download -l pl -p napiprojekt -p opensubtitles</span>
</div></div><div data-line="42" class="code-highlight-row numbered"><div class="code-highlight-line">  <span class="l-Scalar-Plain">clean-up</span><span class="p-Indicator">:</span>
</div></div><div data-line="43" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">priority</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">40</span>
</div></div><div data-line="44" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">no_entries_ok</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
</div></div><div data-line="45" class="code-highlight-row numbered"><div class="code-highlight-line">    <span class="l-Scalar-Plain">clean_transmission</span><span class="p-Indicator">:</span>
</div></div><div data-line="46" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">host</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">localhost</span>
</div></div><div data-line="47" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">port</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">9091</span>
</div></div><div data-line="48" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">username</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;transmission_username&gt;</span>
</div></div><div data-line="49" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">password</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">&lt;transmission_password&gt;</span>
</div></div><div data-line="50" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">min_ratio</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
</div></div><div data-line="51" class="code-highlight-row numbered"><div class="code-highlight-line">      <span class="l-Scalar-Plain">finished_for</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1 hours</span></div></div></pre></div></figure>

<ul>
  <li><em>showrss_url</em> - the URL of your ShowRSS feed</li>
  <li><em>finished_downloads_path</em> - the path, where files finished by transmission would land</li>
  <li><em>tv_shows_path</em> - the path, where files processed by FlexGet would be moved</li>
  <li><em>transmission_username</em>, <em>transmission_password</em> - pretty self-explanatory</li>
</ul>

<p>So what this scripts does?</p>

<ul>
  <li><code class="highlighter-rouge">download-tv-shows</code> - checks ShowRSS feed for new shows, and if found - adds them to tranmission.</li>
  <li><code class="highlighter-rouge">sort-tv-shows</code> - checks transmission downloads directory for new shows. If found, moves them to tv shows directory, and tries to determine proper show and episode name in file path. So <code class="highlighter-rouge">GreatShow.S01E03.720p.h264.PROPER.mkv</code> from tranmission downloads would become <code class="highlighter-rouge">GreatShow/GreatShow.S01E03 - Episode Name.mkv</code>.</li>
  <li><code class="highlighter-rouge">download-subtitles</code> - this task is pretty bizzare, I can tell. I tried to use <a href="http://flexget.com/wiki/Plugins/subliminal">subliminal plugin</a> for this example, however it never worked as expected. Instead, I used the bash script which looks for all files without corresponding <code class="highlighter-rouge">*.srt</code>s and fires subliminal on them.</li>
  <li><code class="highlighter-rouge">clean-up</code> - pretty obvious - clean transmission queue when file is finished processing.</li>
</ul>

<h4 id="flexget---cron">FlexGet - cron</h4>

<p>FlexGet itself is not a service, it needs to be run periodically. Thankfully this can be solved with a single line in crontab.</p>

<figure class="code-highlight-figure"><figcaption class="code-highlight-caption"><span class="code-highlight-caption-title">OSMC user: crontab -e</span></figcaption><div class="code-highlight"><pre class="code-highlight-pre"><div data-line="1" class="code-highlight-row numbered"><div class="code-highlight-line">*/30 * * * * /home/osmc/.local/bin/flexget --cron execute</div></div></pre></div></figure>

<p>I think 30-minutes is a very safe time-window - Your FlexGet scripts shouldn’t overlap.</p>

<h2 id="pulsar">Pulsar</h2>

<p>Again, remember <strong class="warning">this is for informational purposes only</strong>. I strongly encourage you, to obtain all the videos you wish to watch, using legal sources.</p>

<p>Pulsar is a video add-on which allows torrent streaming. Remember <a href="http://popcorn-time.se/">PopCorn time</a>? This is something similar, but for Kodi.</p>

<p>First things first, you would need <a href="http://sourceforge.net/projects/icanuckxbmcrepo/files/repository.pulsarunofficial-1.0.1.zip/download">Unofficial Pulsar Repository</a>. Download it, put into your OSMC, and <code class="highlighter-rouge">Install from ZIP File</code>. The rest is pretty straightforward - navigate to <em>Add-ons =&gt; Install from Repository</em> and choose <em>Pulsar Unofficial</em>. From there, you need Pulsar (from <em>Video add-ons</em> section), and providers (available under <em>Programs</em>). Then, you can add Pulsar to your home screen using <em>Settings =&gt; Apperance =&gt; Skin =&gt; Settings =&gt; Home =&gt; Customise Home Menu</em> and voilla! Grab some pop-corn and enjoy!</p>

<h2 id="conclusion">Conclusion</h2>

<p>Phew! That was the long one! I’m aware, that some things are not as easy as they should be, but trust me - it’s worth the effort. Kodi can be a pretty powerful tool if you give it a chance, and in return it will pay you back with a Media Center you will find hard to take your eyes off.</p>

        </div>

        <div id="disqus_thread" class="comments-disqus"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'ajgon';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
</div>


        <footer class="mdl-mega-footer">
  <div class="mdl-mega-footer__top-section mdl-grid">
    <div class="mdl-cell mdl-cell--4-col">
      <h5 class="headline">Recent Tweets</h5>
      <ul class="mdl-mega-footer--link-list mdl-mega-footer--left-align" id="recent-tweets">
        Loading tweets...
      </ul>
    </div>
    <div class="mdl-cell mdl-cell--4-col">
      <h5 class="headline">Connect</h5>
      
        <a class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect" href="https://github.com/ajgon" id="connect_Q" target="_blank">
          <i class="material-icons socicon">Q</i>
        </a>
        <div for="connect_Q" class="mdl-tooltip">GitHub</div>
      
        <a class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect" href="https://linkedin.com/in/ajgon" id="connect_j" target="_blank">
          <i class="material-icons socicon">j</i>
        </a>
        <div for="connect_j" class="mdl-tooltip">LinkedIN</div>
      
        <a class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect" href="https://twitter.com/ajgon" id="connect_a" target="_blank">
          <i class="material-icons socicon">a</i>
        </a>
        <div for="connect_a" class="mdl-tooltip">Twitter</div>
      
        <a class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect" href="/public-key.txt" id="connect_vpn_key" target="_blank">
          <i class="material-icons">vpn_key</i>
        </a>
        <div for="connect_vpn_key" class="mdl-tooltip">GPG Key</div>
      
    </div>
    <div class="mdl-cell mdl-cell--4-col">
      <h5 class="headline">Contact</h5>
      <ul class="mdl-mega-footer--link-list">
        <li>
          Mail:
          <script><!--
            document.write('<a href="mai');
            document.write('lto');
            document.write(':&#105;&#103;&#111;&#114;');
            document.write('@');
            document.write('&#114;&#122;&#101;&#103;&#111;&#99;&#107;&#105;&#46;&#112;&#108;">');
            document.write('&#105;&#103;&#111;&#114;');
            document.write('@');
            document.write('&#114;&#122;&#101;&#103;&#111;&#99;&#107;&#105;&#46;&#112;&#108;<\/a>');
          // --></script><noscript>:&#105;&#103;&#111;&#114; at
&#114;&#122;&#101;&#103;&#111;&#99;&#107;&#105; dot &#112;&#108;</noscript>
        </li>
        <li>
          Skype: <a href="skype:igor.rzegocki">igor.rzegocki</a>
        </li>
      </ul>
    </div>
  </div>
  <div class="mdl-mega-footer__bottom-section">
    Copyright © 2015 - <a href="/avatar.html">Igor Rzegocki</a> - Powered by <a href="http://octopress.org/" target="_blank">Octopress</a>.
    Previous version of the site, available <a href="/v3">here</a>.
  </div>
</footer>

      </main>
    </div>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-65616575-1', 'auto');
  ga('send', 'pageview');
</script>

<script type="text/javascript" src="/assets/main-5cccc99dfeb8a00b13f976b21f25ce7255402b393fdf196c0798171ac099fc73.js"></script>

  </body>

</html>
